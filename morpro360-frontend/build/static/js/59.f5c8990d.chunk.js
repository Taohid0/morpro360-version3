(window.webpackJsonp=window.webpackJsonp||[]).push([[59],{250:function(e,t,a){"use strict";a.d(t,"a",function(){return c});var n=a(248),r=a.n(n),s=a(249),o=a(86),i=a(87),c=function(){function e(){Object(o.a)(this,e),this.KEY="@morpro:user"}return Object(i.a)(e,[{key:"clearData",value:function(){var e=Object(s.a)(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:window.localStorage.clear();case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"getUser",value:function(){var e=Object(s.a)(r.a.mark(function e(){var t,a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=window.localStorage.getItem(this.KEY)){e.next=4;break}return e.abrupt("return",!1);case 4:return a=JSON.parse(t),e.abrupt("return",a);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",!1);case 11:case"end":return e.stop()}},e,this,[[0,8]])}));return function(){return e.apply(this,arguments)}}()},{key:"adminRole",value:function(){var e=Object(s.a)(r.a.mark(function e(){var t;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getUser();case 2:if(!(t=e.sent).Role){e.next=5;break}return e.abrupt("return",t.Role.name);case 5:return e.abrupt("return",!1);case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"storeUser",value:function(){var e=Object(s.a)(r.a.mark(function e(t){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(t),console.log(this.KEY),a=JSON.stringify(t),window.localStorage.setItem(this.KEY,a),e.abrupt("return",!0);case 8:return e.prev=8,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",!1);case 12:case"end":return e.stop()}},e,this,[[0,8]])}));return function(t){return e.apply(this,arguments)}}()}]),e}()},256:function(e,t,a){"use strict";t.a=function(e,t){var a={name:"Name cannot be blank",description:"Description cannot be blank",phone:"Phone number cannot be blank",firstName:"Fist name cannot be blank",lastName:"Last name cannot be blank",userName:"Username cannot be blank",email:"Email cannot be blank",password:"Password cannot be blank",distance:"Distance  cannot be blank",pickUpDate:"Pick Up Date cannot be blank",dropOffDate:"Drop Off Date cannot be blank",weight:"Weight cannot be blank",rate:"Rate cannot be blank",driverStatus:"Driver Status cannot be blank",productDetails:"Product Details cannot be blank",pickUpAddress:"Pick Up Address cannot be blank",pickUpCity:"Pick Up City cannot be blank",pickUpZipCode:"Pick Up Zip Code cannot be blank",pickUpState:"Pick Up State  cannot be blank",dropOffAddress:"Drop Off Address cannot be blank",dropOffCity:"Drop Off City cannot be blank",dropOffZipCode:"Drop Off Zip Code cannot be blank",dropOffState:"Drop Off State cannot be blank",status:"Status cannot be blank",offererCompanyId:"Offerer Company cannot be blank",brokerId:"Broker cannot be blank",assignedCompanyId:"Assigned Company cannot be blank",assignerUserId:"Assigned User cannot be blank",assignerDriverId:"Asigned Driver cannot be blank",state:"State cannot be blank",city:"City cannot be blank",license:"License cannot be blank",address:"Address cannot be blank",companyId:"Company cannnot be blank",driverId:"Driver cannot blank",note:"Note cannot be blank",loadId:"Load cannot be blank",MC:"MC cannot be blank",DOT:"DOT cannot be blank"},n=[],r=!0,s=!1,o=void 0;try{for(var i,c=t[Symbol.iterator]();!(r=(i=c.next()).done);r=!0){var l=i.value;e[l]||n.push(a[l])}}catch(u){s=!0,o=u}finally{try{r||null==c.return||c.return()}finally{if(s)throw o}}return 0!==n.length&&(console.log(n),n)}},257:function(e,t,a){"use strict";var n="https://afe40ebb.ngrok.io",r={userURL:n+"/user",userDetailsURL:n+"/user/details",loginURL:n+"/auth/login",logoutURL:n+"/auth/logout",adminURL:n+"/admin",roleURL:n+"/role",loadURL:n+"/load",driverURL:n+"/driver",bidURL:n+"/bid",winningBidsURL:n+"/bid/winning-bids",availableLoadURL:n+"/load/available-load",companyDriversURL:n+"/driver/company-drivers",myBidsURL:n+"/bid/my-bids",adminLoginURL:n+"/admin/login",adminLogoutURL:n+"/admin/logout",allUsersURL:n+"/user/all-users",activateUserURL:n+"/user/activate",deactivateUserURL:n+"/user/deactivate",allLoadsAdminURL:n+"/load/all-loads-admin",relatedBidsURL:n+"/load/bids",assignBidURL:n+"/bid/assign",changeLoadStatusURL:n+"/load/change-status",loadDetailsURL:n+"/load/details",loadDetailsAllFieldsURL:n+"/load/details/all-fields"};t.a=r},262:function(e,t,a){"use strict";a.d(t,"a",function(){return h});var n=a(86),r=a(87),s=a(90),o=a(88),i=a(89),c=a(1),l=a.n(c),u=a(318),d=a(303),p=a(304),b=a(305),m=a(261),h=function(e){function t(){return Object(n.a)(this,t),Object(s.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return l.a.createElement(u.a,{isOpen:this.props.isVisible,toggle:this.toggleDanger,className:"modal-danger "+this.props.className},l.a.createElement(d.a,{toggle:this.toggleDanger},"Error"),l.a.createElement(p.a,null,l.a.createElement("pre",null,this.props.errors)),l.a.createElement(b.a,null,l.a.createElement(m.a,{color:"secondary",onClick:this.props.toggleModal},"CLOSE")))}}]),t}(c.Component)},320:function(e,t,a){"use strict";a.d(t,"b",function(){return u}),a.d(t,"a",function(){return p}),a.d(t,"c",function(){return m});var n=a(248),r=a.n(n),s=a(249),o=a(259),i=a.n(o),c=a(257),l=a(250);function u(e){return d.apply(this,arguments)}function d(){return(d=Object(s.a)(r.a.mark(function e(t){var a,n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.a.loginURL,e.prev=1,e.next=4,i()({method:"POST",url:a,data:t});case 4:return n=e.sent,e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0.response);case 11:case"end":return e.stop()}},e,null,[[1,8]])}))).apply(this,arguments)}function p(e){return b.apply(this,arguments)}function b(){return(b=Object(s.a)(r.a.mark(function e(t){var a,n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.a.adminLoginURL,e.prev=1,e.next=4,i()({method:"POST",url:a,data:t});case 4:return n=e.sent,e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0.response);case 11:case"end":return e.stop()}},e,null,[[1,8]])}))).apply(this,arguments)}function m(){return h.apply(this,arguments)}function h(){return(h=Object(s.a)(r.a.mark(function e(){var t,a,n,s,o;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=new l.a,e.next=3,t.getUser();case 3:return a=e.sent,n=c.a.logoutURL,e.next=7,t.adminRole();case 7:return e.sent&&(s=c.a.adminLogoutURL,n=s),e.next=11,i()({headers:{Authorization:a.token},method:"POST",url:n});case 11:return o=e.sent,e.abrupt("return",o);case 13:case"end":return e.stop()}},e)}))).apply(this,arguments)}},699:function(e,t,a){"use strict";a.r(t);var n=a(267),r=a(271),s=a(248),o=a.n(s),i=a(249),c=a(86),l=a(87),u=a(90),d=a(88),p=a(89),b=a(91),m=a(1),h=a.n(m),f=a(385),g=a(254),k=a(255),v=a(389),y=a(264),U=a(265),O=a(348),w=a(306),E=a(307),L=a(278),S=a(276),R=a(261),j=a(266),x=a.n(j),C=a(320),D=a(256),N=a(262),A=a(250),M=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={email:"",password:"",isVisible:!1,modalErrors:"",loading:!1},a.userService=new A.a,a.handleChange=a.handleChange.bind(Object(b.a)(Object(b.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(b.a)(Object(b.a)(a))),a.toggleModal=a.toggleModal.bind(Object(b.a)(Object(b.a)(a))),a.loadUserAndRedirect=a.loadUserAndRedirect.bind(Object(b.a)(Object(b.a)(a))),a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){this.loadUserAndRedirect()}},{key:"loadUserAndRedirect",value:function(){var e=Object(i.a)(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.userService.getUser();case 2:e.sent&&this.props.history.push("/dashboard");case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){this.setState(Object(r.a)({},e.target.name,e.target.value))}},{key:"toggleModal",value:function(){this.setState(function(e,t){return{isVisible:!e.isVisible}})}},{key:"handleSubmit",value:function(){var e=Object(i.a)(o.a.mark(function e(t){var a,n,r,s,i;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!(a=Object(D.a)(this.state,["email","password"]))){e.next=7;break}return n=a.join("\n"),this.setState({modalErrors:n}),this.toggleModal(),e.abrupt("return");case 7:return e.prev=7,this.setState({loading:!0}),e.next=11,Object(C.a)(this.state);case 11:r=e.sent,s=r.data,console.log(s),s.status?(this.userService.storeUser(s.data)||("Something wrong, please try again later",this.setState({modalErrors:"Something wrong, please try again later"}),this.toggleModal()),this.props.history.push("/dashboard")):(i=s.errors.join("\n"),this.setState({modalErrors:i}),this.toggleModal()),e.next=23;break;case 17:e.prev=17,e.t0=e.catch(7),"Something wrong, please try again later",this.setState({modalErrors:"Something wrong, please try again later"}),this.toggleModal(),console.log(e.t0);case 23:this.setState({loading:!1});case 24:case"end":return e.stop()}},e,this,[[7,17]])}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return h.a.createElement("div",{className:"app flex-row align-items-center"},h.a.createElement(N.a,{isVisible:this.state.isVisible,errors:this.state.modalErrors,toggleModal:this.toggleModal}),h.a.createElement(f.a,null,h.a.createElement(x.a,{active:this.state.loading,styles:{spinner:function(e){return Object(n.a)({},e,{width:"250px",background:"rgba(0, 0, 0, 0.2)"})}},spinner:!0,text:""}),h.a.createElement(g.a,{className:"justify-content-center"},h.a.createElement(k.a,{md:"8"},h.a.createElement(v.a,null,h.a.createElement(y.a,{className:"p-4"},h.a.createElement(U.a,null,h.a.createElement(O.a,null,h.a.createElement("h1",null,"Login"),h.a.createElement("p",{className:"text-muted"},"Sign In to your admin account"),h.a.createElement(w.a,{className:"mb-3"},h.a.createElement(E.a,{addonType:"prepend"},h.a.createElement(L.a,null,h.a.createElement("i",{className:"icon-user"}))),h.a.createElement(S.a,{type:"email",placeholder:"Email",autoComplete:"email",name:"email",value:this.state.email,onChange:this.handleChange})),h.a.createElement(w.a,{className:"mb-4"},h.a.createElement(E.a,{addonType:"prepend"},h.a.createElement(L.a,null,h.a.createElement("i",{className:"icon-lock"}))),h.a.createElement(S.a,{type:"password",placeholder:"Password",autoComplete:"password",name:"password",value:this.state.password,onChange:this.handleChange})),h.a.createElement(g.a,null,h.a.createElement(k.a,{xs:"6"},h.a.createElement(R.a,{color:"primary",className:"px-4",onClick:this.handleSubmit},"Login")),h.a.createElement(k.a,{xs:"6",className:"text-right"},h.a.createElement(R.a,{color:"link",className:"px-0"},"Forgot password?")))))))))))}}]),t}(m.Component);t.default=M}}]);
//# sourceMappingURL=59.f5c8990d.chunk.js.map