(window.webpackJsonp=window.webpackJsonp||[]).push([[66],{250:function(e,n,a){"use strict";a.d(n,"a",function(){return s});var t=a(248),r=a.n(t),o=a(249),i=a(86),l=a(87),s=function(){function e(){Object(i.a)(this,e),this.KEY="@morpro:user"}return Object(l.a)(e,[{key:"clearData",value:function(){var e=Object(o.a)(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:window.localStorage.clear();case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"getUser",value:function(){var e=Object(o.a)(r.a.mark(function e(){var n,a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=window.localStorage.getItem(this.KEY)){e.next=4;break}return e.abrupt("return",!1);case 4:return a=JSON.parse(n),e.abrupt("return",a);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",!1);case 11:case"end":return e.stop()}},e,this,[[0,8]])}));return function(){return e.apply(this,arguments)}}()},{key:"adminRole",value:function(){var e=Object(o.a)(r.a.mark(function e(){var n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getUser();case 2:if(!(n=e.sent).Role){e.next=5;break}return e.abrupt("return",n.Role.name);case 5:return e.abrupt("return",!1);case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"storeUser",value:function(){var e=Object(o.a)(r.a.mark(function e(n){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(n),console.log(this.KEY),a=JSON.stringify(n),window.localStorage.setItem(this.KEY,a),e.abrupt("return",!0);case 8:return e.prev=8,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",!1);case 12:case"end":return e.stop()}},e,this,[[0,8]])}));return function(n){return e.apply(this,arguments)}}()}]),e}()},257:function(e,n,a){"use strict";var t="https://afe40ebb.ngrok.io",r={userURL:t+"/user",userDetailsURL:t+"/user/details",loginURL:t+"/auth/login",logoutURL:t+"/auth/logout",adminURL:t+"/admin",roleURL:t+"/role",loadURL:t+"/load",driverURL:t+"/driver",bidURL:t+"/bid",winningBidsURL:t+"/bid/winning-bids",availableLoadURL:t+"/load/available-load",companyDriversURL:t+"/driver/company-drivers",myBidsURL:t+"/bid/my-bids",adminLoginURL:t+"/admin/login",adminLogoutURL:t+"/admin/logout",allUsersURL:t+"/user/all-users",activateUserURL:t+"/user/activate",deactivateUserURL:t+"/user/deactivate",allLoadsAdminURL:t+"/load/all-loads-admin",relatedBidsURL:t+"/load/bids",assignBidURL:t+"/bid/assign",changeLoadStatusURL:t+"/load/change-status",loadDetailsURL:t+"/load/details",loadDetailsAllFieldsURL:t+"/load/details/all-fields"};n.a=r},320:function(e,n,a){"use strict";a.d(n,"b",function(){return c}),a.d(n,"a",function(){return m}),a.d(n,"c",function(){return h});var t=a(248),r=a.n(t),o=a(249),i=a(259),l=a.n(i),s=a(257),u=a(250);function c(e){return d.apply(this,arguments)}function d(){return(d=Object(o.a)(r.a.mark(function e(n){var a,t;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.a.loginURL,e.prev=1,e.next=4,l()({method:"POST",url:a,data:n});case 4:return t=e.sent,e.abrupt("return",t);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0.response);case 11:case"end":return e.stop()}},e,null,[[1,8]])}))).apply(this,arguments)}function m(e){return p.apply(this,arguments)}function p(){return(p=Object(o.a)(r.a.mark(function e(n){var a,t;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.a.adminLoginURL,e.prev=1,e.next=4,l()({method:"POST",url:a,data:n});case 4:return t=e.sent,e.abrupt("return",t);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0.response);case 11:case"end":return e.stop()}},e,null,[[1,8]])}))).apply(this,arguments)}function h(){return b.apply(this,arguments)}function b(){return(b=Object(o.a)(r.a.mark(function e(){var n,a,t,o,i;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=new u.a,e.next=3,n.getUser();case 3:return a=e.sent,t=s.a.logoutURL,e.next=7,n.adminRole();case 7:return e.sent&&(o=s.a.adminLogoutURL,t=o),e.next=11,l()({headers:{Authorization:a.token},method:"POST",url:t});case 11:return i=e.sent,e.abrupt("return",i);case 13:case"end":return e.stop()}},e)}))).apply(this,arguments)}},745:function(e,n,a){"use strict";a.r(n);var t=a(248),r=a.n(t),o=a(249),i=a(86),l=a(87),s=a(90),u=a(88),c=a(89),d=a(1),m=a.n(d),p=a(240),h=a(237),b=a(751),f=a(385),y=a(332),v={items:[{name:"Dashboard",url:"/dashboard",icon:"icon-speedometer",badge:{variant:"info"}},{name:"Load",icon:"fa fa-suitcase",children:[{name:"Available Loads",url:"/available-load",icon:""}]},{name:"Bid",icon:"fa fa-hand-paper-o ",children:[{name:"My Bids",url:"/my-bids",icon:""},{name:"My Winning Bids",url:"/my-winning-bids",icon:""}]},{name:"Driver",icon:"fa fa-truck",children:[{name:"Add Driver",url:"/add-driver",icon:""}]},{name:"Company",icon:"fa fa-truck",children:[{name:"My Company Profile",url:"/profile",icon:""}]}]},g={items:[{name:"Dashboard",url:"/dashboard",icon:"icon-speedometer",badge:{variant:"info"}},{name:"Load",icon:"fa fa-suitcase",children:[{name:"Add New Load",url:"/add-load",icon:""},{name:"All Loads",url:"/all-loads-admin"}]},{name:"Company",icon:"fa fa-suitcase",children:[{name:"All Companies",url:"/pending-users",icon:""}]},{name:"Admin",icon:"fa fa-hand-paper-o ",children:[{name:"Add Admin",url:"/add-admin",icon:""},{name:"All Admins",url:"/all-admins",icon:""}]}]},L={items:[{name:"Dashboard",url:"/dashboard",icon:"icon-speedometer",badge:{variant:"info"}},{name:"Load",icon:"fa fa-suitcase",children:[{name:"Add New Load",url:"/add-load",icon:""},{name:"All Loads",url:"/all-loads-admin"}]},{name:"Company",icon:"fa fa-suitcase",children:[{name:"All Companies",url:"/pending-users",icon:""}]}]},w=m.a.lazy(function(){return a.e(52).then(a.bind(null,706))}),z=m.a.lazy(function(){return Promise.all([a.e(0),a.e(37)]).then(a.bind(null,707))}),x=m.a.lazy(function(){return Promise.all([a.e(0),a.e(58)]).then(a.bind(null,744))}),U=m.a.lazy(function(){return Promise.all([a.e(0),a.e(35)]).then(a.bind(null,708))}),R=m.a.lazy(function(){return a.e(30).then(a.bind(null,709))}),k=m.a.lazy(function(){return Promise.all([a.e(0),a.e(14),a.e(70)]).then(a.bind(null,710))}),E=m.a.lazy(function(){return a.e(46).then(a.bind(null,756))}),P=m.a.lazy(function(){return a.e(29).then(a.bind(null,713))}),A=m.a.lazy(function(){return Promise.all([a.e(0),a.e(38)]).then(a.bind(null,747))}),O=m.a.lazy(function(){return a.e(39).then(a.bind(null,714))}),j=m.a.lazy(function(){return a.e(53).then(a.bind(null,715))}),S=m.a.lazy(function(){return a.e(50).then(a.bind(null,748))}),B=m.a.lazy(function(){return a.e(61).then(a.bind(null,716))}),D=m.a.lazy(function(){return a.e(47).then(a.bind(null,717))}),C=m.a.lazy(function(){return a.e(34).then(a.bind(null,718))}),N=m.a.lazy(function(){return a.e(54).then(a.bind(null,719))}),I=m.a.lazy(function(){return a.e(51).then(a.bind(null,752))}),T=m.a.lazy(function(){return a.e(48).then(a.bind(null,720))}),M=m.a.lazy(function(){return a.e(31).then(a.bind(null,721))}),J=m.a.lazy(function(){return Promise.all([a.e(20),a.e(71)]).then(a.bind(null,722))}),F=m.a.lazy(function(){return a.e(49).then(a.bind(null,725))}),K=m.a.lazy(function(){return Promise.all([a.e(5),a.e(65)]).then(a.bind(null,754))}),Y=m.a.lazy(function(){return a.e(55).then(a.bind(null,726))}),W=m.a.lazy(function(){return a.e(56).then(a.bind(null,727))}),G=m.a.lazy(function(){return Promise.all([a.e(0),a.e(44)]).then(a.bind(null,728))}),H=m.a.lazy(function(){return a.e(57).then(a.bind(null,729))}),q=m.a.lazy(function(){return Promise.all([a.e(0),a.e(45)]).then(a.bind(null,730))}),Q=m.a.lazy(function(){return a.e(41).then(a.bind(null,731))}),V=m.a.lazy(function(){return Promise.all([a.e(0),a.e(32)]).then(a.bind(null,732))}),X=m.a.lazy(function(){return Promise.all([a.e(6),a.e(74)]).then(a.bind(null,733))}),Z=m.a.lazy(function(){return a.e(75).then(a.bind(null,734))}),$=m.a.lazy(function(){return Promise.all([a.e(5),a.e(28)]).then(a.bind(null,749))}),_=m.a.lazy(function(){return a.e(43).then(a.bind(null,735))}),ee=m.a.lazy(function(){return a.e(42).then(a.bind(null,746))}),ne=m.a.lazy(function(){return Promise.all([a.e(0),a.e(1),a.e(25),a.e(64)]).then(a.bind(null,753))}),ae=m.a.lazy(function(){return Promise.all([a.e(0),a.e(1),a.e(27),a.e(63)]).then(a.bind(null,755))}),te=m.a.lazy(function(){return Promise.all([a.e(0),a.e(1),a.e(5),a.e(6),a.e(69)]).then(a.bind(null,736))}),re=m.a.lazy(function(){return Promise.all([a.e(0),a.e(1),a.e(2),a.e(3),a.e(12)]).then(a.bind(null,757))}),oe=m.a.lazy(function(){return Promise.all([a.e(0),a.e(1),a.e(2),a.e(3),a.e(17)]).then(a.bind(null,737))}),ie=m.a.lazy(function(){return Promise.all([a.e(0),a.e(1),a.e(2),a.e(3),a.e(18)]).then(a.bind(null,738))}),le=m.a.lazy(function(){return Promise.all([a.e(0),a.e(1),a.e(2),a.e(3),a.e(16)]).then(a.bind(null,739))}),se=[{path:"/",exact:!0,name:"Home",component:be},{path:"/dashboard",name:"Dashboard",component:te},{path:"/theme",exact:!0,name:"Theme",component:X},{path:"/theme/colors",name:"Colors",component:X},{path:"/theme/typography",name:"Typography",component:Z},{path:"/base",exact:!0,name:"Base",component:z},{path:"/base/cards",name:"Cards",component:z},{path:"/base/forms",name:"Forms",component:k},{path:"/base/switches",name:"Switches",component:D},{path:"/base/tables",name:"Tables",component:C},{path:"/base/tabs",name:"Tabs",component:N},{path:"/base/breadcrumbs",name:"Breadcrumbs",component:w},{path:"/base/carousels",name:"Carousel",component:x},{path:"/base/collapses",name:"Collapse",component:U},{path:"/base/dropdowns",name:"Dropdowns",component:R},{path:"/base/jumbotrons",name:"Jumbotrons",component:E},{path:"/base/list-groups",name:"List Groups",component:P},{path:"/base/navbars",name:"Navbars",component:A},{path:"/base/navs",name:"Navs",component:O},{path:"/base/paginations",name:"Paginations",component:j},{path:"/base/popovers",name:"Popovers",component:S},{path:"/base/progress-bar",name:"Progress Bar",component:B},{path:"/base/tooltips",name:"Tooltips",component:I},{path:"/buttons",exact:!0,name:"Buttons",component:F},{path:"/buttons/buttons",name:"Buttons",component:F},{path:"/buttons/button-dropdowns",name:"Button Dropdowns",component:M},{path:"/buttons/button-groups",name:"Button Groups",component:J},{path:"/buttons/brand-buttons",name:"Brand Buttons",component:T},{path:"/icons",exact:!0,name:"Icons",component:Y},{path:"/icons/coreui-icons",name:"CoreUI Icons",component:Y},{path:"/icons/flags",name:"Flags",component:W},{path:"/icons/font-awesome",name:"Font Awesome",component:G},{path:"/icons/simple-line-icons",name:"Simple Line Icons",component:H},{path:"/notifications",exact:!0,name:"Notifications",component:q},{path:"/notifications/alerts",name:"Alerts",component:q},{path:"/notifications/badges",name:"Badges",component:Q},{path:"/notifications/modals",name:"Modals",component:V},{path:"/widgets",name:"Widgets",component:$},{path:"/charts",name:"Charts",component:K},{path:"/users",exact:!0,name:"Users",component:_},{path:"/users/:id",exact:!0,name:"User Details",component:ee},{path:"/add-load/",exact:!0,name:"Add Load",component:ne},{path:"/add-driver/",exact:!0,name:"Add Driver",component:ae},{path:"/available-load",exact:!0,name:"Available Loads",component:re},{path:"/my-bids",exact:!0,name:"My Bids",component:oe},{path:"/my-winning-bids",exact:!0,name:"My Winning Bids",component:ie},{path:"/add-admin/",exact:!0,name:"Add Admin",component:m.a.lazy(function(){return Promise.all([a.e(0),a.e(1),a.e(26),a.e(62)]).then(a.bind(null,750))})},{path:"/pending-users",exact:!0,name:"All Companies",component:le},{path:"/all-loads-admin",exact:!0,name:"All Loads Admin",component:m.a.lazy(function(){return Promise.all([a.e(0),a.e(1),a.e(2),a.e(3),a.e(13)]).then(a.bind(null,740))})},{path:"/load-details-admin/:loadId",exact:!0,name:"Load Details Admin",component:m.a.lazy(function(){return Promise.all([a.e(0),a.e(1),a.e(2),a.e(3),a.e(15)]).then(a.bind(null,741))})},{path:"/profile",exact:!0,name:"Profile",component:m.a.lazy(function(){return Promise.all([a.e(0),a.e(1),a.e(2),a.e(3),a.e(33)]).then(a.bind(null,742))})},{path:"/all-admins",exact:!0,name:"All Admins",component:m.a.lazy(function(){return Promise.all([a.e(0),a.e(1),a.e(2),a.e(3),a.e(11)]).then(a.bind(null,743))})}],ue=a(320),ce=a(250),de=m.a.lazy(function(){return a.e(40).then(a.bind(null,703))}),me=m.a.lazy(function(){return a.e(68).then(a.bind(null,704))}),pe=m.a.lazy(function(){return a.e(36).then(a.bind(null,705))}),he=function(e){function n(e){var a;return Object(i.a)(this,n),(a=Object(s.a)(this,Object(u.a)(n).call(this,e))).loading=function(){return m.a.createElement("div",{className:"animated fadeIn pt-1 text-center"},"Loading...")},a.state={role:"user"},a.userService=new ce.a,a}return Object(c.a)(n,e),Object(l.a)(n,[{key:"componentDidMount",value:function(){this.getRole()}},{key:"getRole",value:function(){var e=Object(o.a)(r.a.mark(function e(){var n,a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.userService.adminRole();case 2:(n=e.sent)&&(a=n.toLowerCase(),this.setState({role:a}));case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Object(o.a)(r.a.mark(function e(n){var a,t;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,Object(ue.c)();case 3:a=e.sent,t=a.data,console.log(t),t.status?(this.userService.clearData(),this.props.history.push("/login")):alert("Something went wrong, please try again later"),this.props.history.push("/login");case 8:case"end":return e.stop()}},e,this)}));return function(n){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return m.a.createElement("div",{className:"app"},m.a.createElement(y.d,{fixed:!0},m.a.createElement(d.Suspense,{fallback:this.loading()},m.a.createElement(pe,{props:this.props,onLogout:function(n){return e.signOut(n)}}))),m.a.createElement("div",{className:"app-body"},m.a.createElement(y.f,{fixed:!0,display:"lg"},m.a.createElement(y.i,null),m.a.createElement(y.h,null),m.a.createElement(d.Suspense,null,"admin"===this.state.role?m.a.createElement(y.k,Object.assign({navConfig:g},this.props)):"broker"===this.state.role?m.a.createElement(y.k,Object.assign({navConfig:L},this.props)):m.a.createElement(y.k,Object.assign({navConfig:v},this.props))),m.a.createElement(y.g,null),m.a.createElement(y.j,null)),m.a.createElement("main",{className:"main"},m.a.createElement(y.b,{appRoutes:se}),m.a.createElement(f.a,{fluid:!0},m.a.createElement(d.Suspense,{fallback:this.loading()},m.a.createElement(p.a,null,se.map(function(e,n){return e.component?m.a.createElement(h.a,{key:n,path:e.path,exact:e.exact,name:e.name,render:function(n){return m.a.createElement(e.component,n)}}):null}),m.a.createElement(b.a,{from:"/",to:"/dashboard"}))))),m.a.createElement(y.a,{fixed:!0},m.a.createElement(d.Suspense,{fallback:this.loading()},m.a.createElement(de,null)))),m.a.createElement(y.c,null,m.a.createElement(d.Suspense,{fallback:this.loading()},m.a.createElement(me,null))))}}]),n}(d.Component),be=n.default=he}}]);
//# sourceMappingURL=66.98d44ed2.chunk.js.map