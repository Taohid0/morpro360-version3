(window.webpackJsonp=window.webpackJsonp||[]).push([[63],{256:function(e,a,t){"use strict";a.a=function(e,a){var t={name:"Name cannot be blank",description:"Description cannot be blank",phone:"Phone number cannot be blank",firstName:"Fist name cannot be blank",lastName:"Last name cannot be blank",userName:"Username cannot be blank",email:"Email cannot be blank",password:"Password cannot be blank",distance:"Distance  cannot be blank",pickUpDate:"Pick Up Date cannot be blank",dropOffDate:"Drop Off Date cannot be blank",weight:"Weight cannot be blank",rate:"Rate cannot be blank",driverStatus:"Driver Status cannot be blank",productDetails:"Product Details cannot be blank",pickUpAddress:"Pick Up Address cannot be blank",pickUpCity:"Pick Up City cannot be blank",pickUpZipCode:"Pick Up Zip Code cannot be blank",pickUpState:"Pick Up State  cannot be blank",dropOffAddress:"Drop Off Address cannot be blank",dropOffCity:"Drop Off City cannot be blank",dropOffZipCode:"Drop Off Zip Code cannot be blank",dropOffState:"Drop Off State cannot be blank",status:"Status cannot be blank",offererCompanyId:"Offerer Company cannot be blank",brokerId:"Broker cannot be blank",assignedCompanyId:"Assigned Company cannot be blank",assignerUserId:"Assigned User cannot be blank",assignerDriverId:"Asigned Driver cannot be blank",state:"State cannot be blank",city:"City cannot be blank",license:"License cannot be blank",address:"Address cannot be blank",companyId:"Company cannnot be blank",driverId:"Driver cannot blank",note:"Note cannot be blank",loadId:"Load cannot be blank",MC:"MC cannot be blank",DOT:"DOT cannot be blank"},n=[],r=!0,s=!1,l=void 0;try{for(var o,i=a[Symbol.iterator]();!(r=(o=i.next()).done);r=!0){var c=o.value;e[c]||n.push(t[c])}}catch(d){s=!0,l=d}finally{try{r||null==i.return||i.return()}finally{if(s)throw l}}return 0!==n.length&&(console.log(n),n)}},260:function(e,a,t){"use strict";t.d(a,"a",function(){return b});var n=t(86),r=t(87),s=t(90),l=t(88),o=t(89),i=t(1),c=t.n(i),d=t(318),u=t(303),p=t(304),h=t(305),m=t(261),b=function(e){function a(){return Object(n.a)(this,a),Object(s.a)(this,Object(l.a)(a).apply(this,arguments))}return Object(o.a)(a,e),Object(r.a)(a,[{key:"render",value:function(){var e=this;return c.a.createElement(d.a,{isOpen:this.props.isVisible,toggle:this.toggleSuccess,className:"modal-success "+this.props.className},c.a.createElement(u.a,{toggle:this.toggleSuccess},this.props.title),c.a.createElement(p.a,null,c.a.createElement("pre",null,this.props.errors)),c.a.createElement(h.a,null,c.a.createElement(m.a,{color:"success",onClick:function(){e.props.toggleModal(),e.props.goToDashboard()}},"OK")," "))}}]),a}(i.Component)},262:function(e,a,t){"use strict";t.d(a,"a",function(){return b});var n=t(86),r=t(87),s=t(90),l=t(88),o=t(89),i=t(1),c=t.n(i),d=t(318),u=t(303),p=t(304),h=t(305),m=t(261),b=function(e){function a(){return Object(n.a)(this,a),Object(s.a)(this,Object(l.a)(a).apply(this,arguments))}return Object(o.a)(a,e),Object(r.a)(a,[{key:"render",value:function(){return c.a.createElement(d.a,{isOpen:this.props.isVisible,toggle:this.toggleDanger,className:"modal-danger "+this.props.className},c.a.createElement(u.a,{toggle:this.toggleDanger},"Error"),c.a.createElement(p.a,null,c.a.createElement("pre",null,this.props.errors)),c.a.createElement(h.a,null,c.a.createElement(m.a,{color:"secondary",onClick:this.props.toggleModal},"CLOSE")))}}]),a}(i.Component)},269:function(e,a,t){"use strict";t.d(a,"a",function(){return d}),t.d(a,"b",function(){return p});var n=t(248),r=t.n(n),s=t(249),l=t(259),o=t.n(l),i=t(257),c=t(250);function d(e){return u.apply(this,arguments)}function u(){return(u=Object(s.a)(r.a.mark(function e(a){var t,n,s,l;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=new c.a,e.next=3,t.getUser();case 3:return n=e.sent,s=i.a.driverURL,e.next=7,o()({headers:{Authorization:n.token},method:"POST",url:s,data:a});case 7:return l=e.sent,e.abrupt("return",l);case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}function p(e){return h.apply(this,arguments)}function h(){return(h=Object(s.a)(r.a.mark(function e(a){var t,n,s,l;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=new c.a,e.next=3,t.getUser();case 3:return n=e.sent,s=i.a.companyDriversURL,s+="/"+a,e.next=8,o()({headers:{Authorization:n.token},method:"GET",url:s});case 8:return l=e.sent,e.abrupt("return",l);case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}},755:function(e,a,t){"use strict";t.r(a);var n=t(248),r=t.n(n),s=t(249),l=t(86),o=t(87),i=t(90),c=t(88),d=t(89),u=t(91),p=t(1),h=t.n(p),m=t(267),b=t(263),g=t(271),f=t(264),E=t(258),k=t(265),v=t(298),y=t(299),O=t(276),w=t(254),S=t(255),M=t(261),C=t(266),j=t.n(C),D=t(250),x=t(256),P=t(269),U=t(262),V=t(260),N=function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(i.a)(this,Object(c.a)(a).call(this,e))).state={name:"",phone:"",state:"",city:"",address:"",email:"",license:"",password:"",repeatPassword:"",isErrorModalVisible:!1,modalErrorMessage:"",isSuccessModalVisible:!1,successModalTitle:"Sucessful",modalSuccessMessage:"",companyDropdown:[],loading:!1},t.userService=new D.a,t.handleChange=t.handleChange.bind(Object(u.a)(Object(u.a)(t))),t.handleSubmit=t.handleSubmit.bind(Object(u.a)(Object(u.a)(t))),t.toggleDangerModal=t.toggleDangerModal.bind(Object(u.a)(Object(u.a)(t))),t.toggleSuccessModal=t.toggleSuccessModal.bind(Object(u.a)(Object(u.a)(t))),t}return Object(d.a)(a,e),Object(o.a)(a,[{key:"componentWillMount",value:function(){}},{key:"toggleDangerModal",value:function(){this.setState(function(e,a){return{isErrorModalVisible:!e.isErrorModalVisible}})}},{key:"toggleSuccessModal",value:function(){this.setState(function(e,a){return{isSuccessModalVisible:!e.isSuccessModalVisible}})}},{key:"handleChange",value:function(e){this.setState(Object(g.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(){var e=Object(s.a)(r.a.mark(function e(a){var t,n,s,l,o,i,c,d;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),console.log(this.state),t=this.state,t.isErrorModalVisible,t.modalErrorMessage,t.isSuccessModalVisible,t.modalSuccessMessage,t.successModalTitle,t.companyDropdown,t.repeatPassword,t.loading,n=Object(b.a)(t,["isErrorModalVisible","modalErrorMessage","isSuccessModalVisible","modalSuccessMessage","successModalTitle","companyDropdown","repeatPassword","loading"]),!(s=Object(x.a)(n,["name","email","phone","state","city","address","license","password"]))){e.next=9;break}return l=s.join("\n"),this.setState({modalErrorMessage:l}),this.toggleDangerModal(),e.abrupt("return");case 9:if(this.state.password===this.state.repeatPassword){e.next=14;break}return"Password and reapeated password mismatched",this.setState({modalErrorMessage:"Password and reapeated password mismatched"}),this.toggleDangerModal(),e.abrupt("return");case 14:return e.prev=14,this.setState({loading:!0}),e.next=18,Object(P.a)(n);case 18:o=e.sent,(i=o.data).status?("Successfully new driver added",this.setState({modalSuccessMessage:"Successfully new driver added"}),this.toggleSuccessModal()):(c=i.errors.join("\n"),this.setState({modalErrorMessage:c,password:"",repeatPassword:""}),this.toggleDangerModal()),e.next=28;break;case 23:e.prev=23,e.t0=e.catch(14),console.log(e.t0),(d=e.t0.response)&&401===d.status?("Session expired, please login to continue",alert("Session expired, please login to continue"),this.userService.clearData(),this.props.history.push("/login")):("Something wrong, please try again later",this.setState({modalErrorMessage:"Something wrong, please try again later"}),this.toggleDangerModal());case 28:this.setState({loading:!1});case 29:case"end":return e.stop()}},e,this,[[14,23]])}));return function(a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return h.a.createElement("div",null,h.a.createElement(j.a,{active:this.state.loading,styles:{spinner:function(e){return Object(m.a)({},e,{width:"250px",background:"rgba(0, 0, 0, 0.2)"})}},spinner:!0,text:""}),h.a.createElement(U.a,{isVisible:this.state.isErrorModalVisible,errors:this.state.modalErrorMessage,toggleModal:this.toggleDangerModal}),h.a.createElement(V.a,{isVisible:this.state.isSuccessModalVisible,errors:this.state.modalSuccessMessage,toggleModal:this.toggleSuccessModal,title:this.state.successModalTitle,goToDashboard:function(){return e.props.history.push("/dashboard")}}),h.a.createElement(f.a,null,h.a.createElement(E.a,null,h.a.createElement("strong",null,"Driver"),h.a.createElement("small",null," Form")),h.a.createElement(k.a,null,h.a.createElement(v.a,null,h.a.createElement(y.a,{htmlFor:"driver"},"Name"),h.a.createElement(O.a,{type:"text",id:"name",placeholder:"Enter driver name",name:"name",value:this.state.name,onChange:this.handleChange})),h.a.createElement(w.a,null,h.a.createElement(S.a,{md:"6"},h.a.createElement(v.a,null,h.a.createElement(y.a,{htmlFor:"phone"},"Phone"),h.a.createElement(O.a,{type:"phone",id:"phone",placeholder:"xxxxxxxxx",name:"phone",value:this.state.phone,onChange:this.handleChange}))),h.a.createElement(S.a,{md:"6"},h.a.createElement(v.a,null,h.a.createElement(y.a,{htmlFor:"email"},"Email"),h.a.createElement(O.a,{type:"email",id:"email",placeholder:"myawesomemail@mymail.com",name:"email",value:this.state.email,onChange:this.handleChange})))),h.a.createElement(w.a,null,h.a.createElement(S.a,{md:"6"},h.a.createElement(v.a,null,h.a.createElement(y.a,{htmlFor:"state"},"State"),h.a.createElement(O.a,{type:"text",id:"state",placeholder:"Enter driver's state",name:"state",value:this.state.state,onChange:this.handleChange}))),h.a.createElement(S.a,{md:"6"},h.a.createElement(v.a,null,h.a.createElement(y.a,{htmlFor:"city"},"City"),h.a.createElement(O.a,{type:"text",id:"city",placeholder:"Enter driver's city",name:"city",value:this.state.city,onChange:this.handleChange})))),h.a.createElement(v.a,null,h.a.createElement(y.a,{htmlFor:"address"},"Address"),h.a.createElement(O.a,{type:"text",id:"address",placeholder:"Enter driver's address",name:"address",value:this.state.address,onChange:this.handleChange})),h.a.createElement(v.a,null,h.a.createElement(y.a,{htmlFor:"license"},"License Number"),h.a.createElement(O.a,{type:"text",id:"license",placeholder:"Enter driver's license",name:"license",value:this.state.license,onChange:this.handleChange})),h.a.createElement(v.a,null,h.a.createElement(y.a,{htmlFor:"password"},"Driver's Password"),h.a.createElement(O.a,{type:"password",id:"password",placeholder:"This driver will use this password for logging in to his account",name:"password",value:this.state.password,onChange:this.handleChange})),h.a.createElement(v.a,null,h.a.createElement(y.a,{htmlFor:"license"},"Repeat Password"),h.a.createElement(O.a,{type:"password",id:"repeatPassword",placeholder:"Repeat driver's password",name:"repeatPassword",value:this.state.repeatPassword,onChange:this.handleChange}))),h.a.createElement(M.a,{onClick:this.handleSubmit,className:"btn btn-success col-6 align-self-center"},h.a.createElement("i",{className:"fa fa-dot-circle-o"})," Create Driver"),h.a.createElement("br",null),h.a.createElement("br",null)))}}]),a}(p.Component);t.d(a,"default",function(){return A});var A=function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(i.a)(this,Object(c.a)(a).call(this,e))).userService=new D.a,t.loadUserOrRedirect=t.loadUserOrRedirect.bind(Object(u.a)(Object(u.a)(t))),t}return Object(d.a)(a,e),Object(o.a)(a,[{key:"componentWillMount",value:function(){this.loadUserOrRedirect()}},{key:"loadUserOrRedirect",value:function(){var e=Object(s.a)(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.userService.getUser();case 2:e.sent||this.props.history.push("/login");case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return h.a.createElement(N,{history:this.props.history})}}]),a}(p.Component)}}]);
//# sourceMappingURL=63.a6e5a097.chunk.js.map