(window.webpackJsonp=window.webpackJsonp||[]).push([[62],{256:function(e,a,t){"use strict";a.a=function(e,a){var t={name:"Name cannot be blank",description:"Description cannot be blank",phone:"Phone number cannot be blank",firstName:"Fist name cannot be blank",lastName:"Last name cannot be blank",userName:"Username cannot be blank",email:"Email cannot be blank",password:"Password cannot be blank",distance:"Distance  cannot be blank",pickUpDate:"Pick Up Date cannot be blank",dropOffDate:"Drop Off Date cannot be blank",weight:"Weight cannot be blank",rate:"Rate cannot be blank",driverStatus:"Driver Status cannot be blank",productDetails:"Product Details cannot be blank",pickUpAddress:"Pick Up Address cannot be blank",pickUpCity:"Pick Up City cannot be blank",pickUpZipCode:"Pick Up Zip Code cannot be blank",pickUpState:"Pick Up State  cannot be blank",dropOffAddress:"Drop Off Address cannot be blank",dropOffCity:"Drop Off City cannot be blank",dropOffZipCode:"Drop Off Zip Code cannot be blank",dropOffState:"Drop Off State cannot be blank",status:"Status cannot be blank",offererCompanyId:"Offerer Company cannot be blank",brokerId:"Broker cannot be blank",assignedCompanyId:"Assigned Company cannot be blank",assignerUserId:"Assigned User cannot be blank",assignerDriverId:"Asigned Driver cannot be blank",state:"State cannot be blank",city:"City cannot be blank",license:"License cannot be blank",address:"Address cannot be blank",companyId:"Company cannnot be blank",driverId:"Driver cannot blank",note:"Note cannot be blank",loadId:"Load cannot be blank",MC:"MC cannot be blank",DOT:"DOT cannot be blank"},n=[],r=!0,s=!1,o=void 0;try{for(var l,i=a[Symbol.iterator]();!(r=(l=i.next()).done);r=!0){var c=l.value;e[c]||n.push(t[c])}}catch(u){s=!0,o=u}finally{try{r||null==i.return||i.return()}finally{if(s)throw o}}return 0!==n.length&&(console.log(n),n)}},260:function(e,a,t){"use strict";t.d(a,"a",function(){return b});var n=t(86),r=t(87),s=t(90),o=t(88),l=t(89),i=t(1),c=t.n(i),u=t(318),d=t(303),p=t(304),h=t(305),m=t(261),b=function(e){function a(){return Object(n.a)(this,a),Object(s.a)(this,Object(o.a)(a).apply(this,arguments))}return Object(l.a)(a,e),Object(r.a)(a,[{key:"render",value:function(){var e=this;return c.a.createElement(u.a,{isOpen:this.props.isVisible,toggle:this.toggleSuccess,className:"modal-success "+this.props.className},c.a.createElement(d.a,{toggle:this.toggleSuccess},this.props.title),c.a.createElement(p.a,null,c.a.createElement("pre",null,this.props.errors)),c.a.createElement(h.a,null,c.a.createElement(m.a,{color:"success",onClick:function(){e.props.toggleModal(),e.props.goToDashboard()}},"OK")," "))}}]),a}(i.Component)},262:function(e,a,t){"use strict";t.d(a,"a",function(){return b});var n=t(86),r=t(87),s=t(90),o=t(88),l=t(89),i=t(1),c=t.n(i),u=t(318),d=t(303),p=t(304),h=t(305),m=t(261),b=function(e){function a(){return Object(n.a)(this,a),Object(s.a)(this,Object(o.a)(a).apply(this,arguments))}return Object(l.a)(a,e),Object(r.a)(a,[{key:"render",value:function(){return c.a.createElement(u.a,{isOpen:this.props.isVisible,toggle:this.toggleDanger,className:"modal-danger "+this.props.className},c.a.createElement(d.a,{toggle:this.toggleDanger},"Error"),c.a.createElement(p.a,null,c.a.createElement("pre",null,this.props.errors)),c.a.createElement(h.a,null,c.a.createElement(m.a,{color:"secondary",onClick:this.props.toggleModal},"CLOSE")))}}]),a}(i.Component)},376:function(e,a,t){"use strict";t.d(a,"a",function(){return u}),t.d(a,"b",function(){return p});var n=t(248),r=t.n(n),s=t(249),o=t(259),l=t.n(o),i=t(257),c=t(250);function u(e){return d.apply(this,arguments)}function d(){return(d=Object(s.a)(r.a.mark(function e(a){var t,n,s,o;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=new c.a,e.next=3,t.getUser();case 3:return n=e.sent,s=i.a.adminURL,e.next=7,l()({headers:{Authorization:n.token},method:"POST",url:s,data:a});case 7:return o=e.sent,e.abrupt("return",o);case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}function p(){return h.apply(this,arguments)}function h(){return(h=Object(s.a)(r.a.mark(function e(){var a,t,n,s;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=new c.a,e.next=3,a.getUser();case 3:return t=e.sent,n=i.a.adminURL,e.next=7,l()({headers:{Authorization:t.token},method:"GET",url:n});case 7:return s=e.sent,e.abrupt("return",s);case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}},750:function(e,a,t){"use strict";t.r(a);var n=t(248),r=t.n(n),s=t(249),o=t(86),l=t(87),i=t(90),c=t(88),u=t(89),d=t(91),p=t(1),h=t.n(p),m=t(267),b=t(263),g=t(271),f=t(264),k=t(258),E=t(265),v=t(254),w=t(255),O=t(298),y=t(299),S=t(276),M=t(261),j=t(266),C=t.n(j),D=t(250),x=t(256),N=t(376),U=t(259),P=t.n(U),R=t(257);function V(){return A.apply(this,arguments)}function A(){return(A=Object(s.a)(r.a.mark(function e(){var a,t,n,s;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=new D.a,e.next=3,a.getUser();case 3:return t=e.sent,n=R.a.roleURL,e.next=7,P()({headers:{Authorization:t.token},method:"GET",url:n});case 7:return s=e.sent,e.abrupt("return",s);case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}var I=t(262),T=t(260),F=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(i.a)(this,Object(c.a)(a).call(this,e))).state={firstName:"",lastName:"",phone:"",email:"",RoleId:"",password:"",repeatPassword:"",isErrorModalVisible:!1,modalErrorMessage:"",isSuccessModalVisible:!1,successModalTitle:"Sucessful",modalSuccessMessage:"",roleDropdown:[],loading:!1},t.userService=new D.a,t.handleChange=t.handleChange.bind(Object(d.a)(Object(d.a)(t))),t.handleSubmit=t.handleSubmit.bind(Object(d.a)(Object(d.a)(t))),t.toggleDangerModal=t.toggleDangerModal.bind(Object(d.a)(Object(d.a)(t))),t.toggleSuccessModal=t.toggleSuccessModal.bind(Object(d.a)(Object(d.a)(t))),t.loadRoles=t.loadRoles.bind(Object(d.a)(Object(d.a)(t))),t}return Object(u.a)(a,e),Object(l.a)(a,[{key:"componentWillMount",value:function(){this.loadRoles()}},{key:"loadRoles",value:function(){var e=Object(s.a)(r.a.mark(function e(){var a,t,n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V();case 2:a=e.sent,t=a.data.data,n=t.map(function(e){return h.a.createElement("option",{key:e.id,value:e.id},e.name)}),t.length>0&&this.setState({RoleId:t[0].id}),this.setState({roleDropdown:n});case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"toggleDangerModal",value:function(){this.setState(function(e,a){return{isErrorModalVisible:!e.isErrorModalVisible}})}},{key:"toggleSuccessModal",value:function(){this.setState(function(e,a){return{isSuccessModalVisible:!e.isSuccessModalVisible}})}},{key:"handleChange",value:function(e){this.setState(Object(g.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(){var e=Object(s.a)(r.a.mark(function e(a){var t,n,s,o,l,i,c,u;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),t=this.state,t.isErrorModalVisible,t.modalErrorMessage,t.isSuccessModalVisible,t.modalSuccessMessage,t.successModalTitle,t.roleDropdown,t.repeatPassword,t.loading,n=Object(b.a)(t,["isErrorModalVisible","modalErrorMessage","isSuccessModalVisible","modalSuccessMessage","successModalTitle","roleDropdown","repeatPassword","loading"]),!(s=Object(x.a)(n,["firstName","lastName","email","phone","password"]))){e.next=8;break}return o=s.join("\n"),this.setState({modalErrorMessage:o}),this.toggleDangerModal(),e.abrupt("return");case 8:if(this.state.password===this.state.repeatPassword){e.next=13;break}return"Password and reapeated password mismatched",this.setState({modalErrorMessage:"Password and reapeated password mismatched"}),this.toggleDangerModal(),e.abrupt("return");case 13:return e.prev=13,this.setState({loading:!0}),e.next=17,Object(N.a)(n);case 17:l=e.sent,(i=l.data).status?("Successfully new admin added",this.setState({modalSuccessMessage:"Successfully new admin added"}),this.toggleSuccessModal()):(c=i.errors.join("\n"),this.setState({modalErrorMessage:c}),this.toggleDangerModal()),e.next=27;break;case 22:e.prev=22,e.t0=e.catch(13),console.log(e.t0),(u=e.t0.response)&&401===u.status?("Session expired, please login to continue",alert("Session expired, please login to continue"),this.userService.clearData(),this.props.history.push("/login")):("Something wrong, please try again later",this.setState({modalErrorMessage:"Something wrong, please try again later"}),this.toggleDangerModal());case 27:this.setState({loading:!1});case 28:case"end":return e.stop()}},e,this,[[13,22]])}));return function(a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return h.a.createElement("div",null,h.a.createElement(C.a,{active:this.state.loading,styles:{spinner:function(e){return Object(m.a)({},e,{width:"250px",background:"rgba(0, 0, 0, 0.2)"})}},spinner:!0,text:""}),h.a.createElement(I.a,{isVisible:this.state.isErrorModalVisible,errors:this.state.modalErrorMessage,toggleModal:this.toggleDangerModal}),h.a.createElement(T.a,{isVisible:this.state.isSuccessModalVisible,errors:this.state.modalSuccessMessage,toggleModal:this.toggleSuccessModal,title:this.state.successModalTitle,goToDashboard:function(){return e.props.history.push("/dashboard")}}),h.a.createElement(f.a,null,h.a.createElement(k.a,null,h.a.createElement("strong",null,"Admin"),h.a.createElement("small",null," Form")),h.a.createElement(E.a,null,h.a.createElement(v.a,null,h.a.createElement(w.a,{md:"6"},h.a.createElement(O.a,null,h.a.createElement(y.a,{htmlFor:"firstName"},"First Name"),h.a.createElement(S.a,{type:"text",id:"firstName",placeholder:"Enter first name",name:"firstName",value:this.state.firstName,onChange:this.handleChange}))),h.a.createElement(w.a,{md:"6"},h.a.createElement(O.a,null,h.a.createElement(y.a,{htmlFor:"lastName"},"Last Name"),h.a.createElement(S.a,{type:"text",id:"lastName",placeholder:"Enter last name",name:"lastName",value:this.state.lastName,onChange:this.handleChange})))),h.a.createElement(v.a,null,h.a.createElement(w.a,{md:"6"},h.a.createElement(O.a,null,h.a.createElement(y.a,{htmlFor:"phone"},"Phone"),h.a.createElement(S.a,{type:"phone",id:"phone",placeholder:"xxxxxxxxx",name:"phone",value:this.state.phone,onChange:this.handleChange}))),h.a.createElement(w.a,{md:"6"},h.a.createElement(O.a,null,h.a.createElement(y.a,{htmlFor:"email"},"Email"),h.a.createElement(S.a,{type:"email",id:"email",placeholder:"myawesomemail@mymail.com",name:"email",value:this.state.email,onChange:this.handleChange})))),h.a.createElement(O.a,null,h.a.createElement(y.a,{htmlFor:"RoleId"},"Select Role"),h.a.createElement(S.a,{type:"select",name:"RoleId",id:"RoleId",value:this.state.RoleId,onChange:this.handleChange},this.state.roleDropdown)),h.a.createElement(O.a,null,h.a.createElement(y.a,{htmlFor:"password"},"New Admin's Password"),h.a.createElement(S.a,{type:"password",id:"password",placeholder:"This admin will use this password for logging in to his account",name:"password",value:this.state.password,onChange:this.handleChange})),h.a.createElement(O.a,null,h.a.createElement(y.a,{htmlFor:"license"},"Repeat Password"),h.a.createElement(S.a,{type:"password",id:"repeatPassword",placeholder:"Repeat admin's password",name:"repeatPassword",value:this.state.repeatPassword,onChange:this.handleChange}))),h.a.createElement(M.a,{onClick:this.handleSubmit,className:"btn btn-success col-6 align-self-center"},h.a.createElement("i",{className:"fa fa-dot-circle-o"})," Create Admin"),h.a.createElement("br",null),h.a.createElement("br",null)))}}]),a}(p.Component);t.d(a,"default",function(){return L});var L=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(i.a)(this,Object(c.a)(a).call(this,e))).userService=new D.a,t.loadUserOrRedirect=t.loadUserOrRedirect.bind(Object(d.a)(Object(d.a)(t))),t}return Object(u.a)(a,e),Object(l.a)(a,[{key:"componentWillMount",value:function(){}},{key:"loadUserOrRedirect",value:function(){var e=Object(s.a)(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.userService.getUser();case 2:e.sent||this.props.history.push("/login");case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return h.a.createElement(F,{history:this.props.history})}}]),a}(p.Component)}}]);
//# sourceMappingURL=62.325cc676.chunk.js.map